# Neon Shadows — Interactive Fiction (Inform 6)

This directory contains **Neon Shadows**, a cyberpunk detective noir interactive fiction game written in Inform 6. It is NOT the cyberpunk roguelite (`cyberpunk.py` in the parent directory) — that is a completely separate game.

## Files

- `neon_shadows.inf` — Inform 6 source code (the ONLY file you should edit)
- `neon_shadows.z5` — compiled Z-machine story file (generated by the compiler)
- `test_neon_shadows.sh` — bash test harness

## Compile

```bash
inform6 +/usr/local/share/inform6/lib/ neon_shadows.inf neon_shadows.z5
```

Always recompile after editing `neon_shadows.inf`. The `.z5` file must be committed alongside the source.

## Test

```bash
bash test_neon_shadows.sh
```

This compiles the game, then pipes commands into `dfrotz` and checks output with grep. All tests must pass.

## Play manually

```bash
/usr/games/dfrotz neon_shadows.z5
```

## Game overview

You play Kira Vex, a private detective in Neo-Angeles. Your client Kai Chen hires you to find his missing daughter Lily, a neural programmer who vanished while working for Zheng-Harmon Corp.

**Key locations:** Your Office → Street → Neon Lotus Bar, Chinatown Alley, Zephyr's Den, Police Precinct, Zheng-Harmon Lobby → Executive Floor → Server Room, Industrial District → Clinic → Rooftop

**Key NPCs:** Kai Chen (client), Raven (bartender/fixer), Zephyr (hacker), Detective Tanaka (corrupt cop), Director Voss (villain), Lily Chen (victim), Security Guard

**Puzzle flow:**
1. Take datapad from office desk, take pistol from desk drawer
2. Pay Raven at bar → learn about Zephyr
3. Give datapad to Zephyr → get keycard
4. Use keycard at Zheng-Harmon lobby → executive floor
5. Enter server room → take experiment logs (reveals clinic code 7749)
6. Industrial district → enter clinic with code → free Lily
7. Rooftop → confront/shoot Voss → victory

**Global flags:** `raven_paid`, `zephyr_helped`, `has_keycard`, `knows_zephyr`, `found_logs`, `lily_freed`, `voss_dead`, `player_sats`

## Inform 6 notes

- `or` in conditions is valid: `if (topic == 'x' or 'y')` means `(topic == 'x') || (topic == 'y')`
- NPC conversation uses centralized `NPC_Talk_*` and `NPC_Ask_*` routines
- Room gates use `s_to [; ... ]` function blocks that return a room object or print a message and `rfalse`
- `rtrue` consumes the turn, `rfalse` falls through to default behavior
